ci:
  require:
    - 'Travis CI - Branch'
  hide:
    - shrink-ray
    - percy/polaris-react
    - codecov/patch
    - 'Add new issues to project'
    - 'Move assigned issue to column'
  allow_failures:
    - 'buildkite/polaris-react-system-integration-test'

tasks:
  unpublish:
    override:
      - echo 'nothing to install'
    variables:
      - name: VERSION
        title: 'Unpublish a version from NPM and remove the tag from GitHub'
        default: 'v0.0.0'
    action: 'Unpublish a version'
    steps:
      - npm unpublish @shopify/polaris@${VERSION}

merge:
  require:
    - 'Travis CI - Branch'
  ignore:
    - codecov/patch

deploy:
  max_commits: false
