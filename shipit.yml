ci:
  require:
    - 'Travis CI - Branch'
  hide:
    - shrink-ray
    - percy/polaris-react
    - codecov/patch
    - 'Add new issues to project'
    - 'Move assigned issue to column'
  allow_failures:
    - 'buildkite/polaris-react-system-integration-test'

tasks:
  unpublish:
    action: 'Unpublish latest version'
    description: 'Unpublish the latest version from NPM and remove the latest git tag from origin.'
    steps:
      - npm unpublish @shopify/polaris@latest
      - git push --delete origin `git describe --exact-match --abbrev=0`

merge:
  require:
    - 'Travis CI - Branch'
  ignore:
    - codecov/patch

deploy:
  max_commits: false
